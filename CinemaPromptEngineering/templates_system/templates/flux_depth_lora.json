{
  "meta": {
    "name": "Flux Depth Lora",
    "description": "",
    "author": "",
    "version": "1.0.0",
    "engine": "flux",
    "categories": [
      "editing",
      "img2img"
    ],
    "supports_angles": false,
    "supports_next_scene": false,
    "requires_images": true
  },
  "parameters": [
    {
      "name": "positive_prompt",
      "type": "prompt",
      "node_id": "23",
      "input_name": "text",
      "display_name": "Positive Prompt",
      "description": "Positive prompt (what to generate)",
      "default": ""
    },
    {
      "name": "negative_prompt",
      "type": "prompt",
      "node_id": "7",
      "input_name": "text",
      "display_name": "Negative Prompt",
      "description": "Negative prompt (things to avoid)",
      "default": ""
    },
    {
      "name": "steps",
      "type": "integer",
      "node_id": "3",
      "input_name": "steps",
      "display_name": "Sampling Steps",
      "description": "Number of denoising steps",
      "default": 20,
      "constraints": {
        "min": 1,
        "max": 150,
        "step": 1
      }
    },
    {
      "name": "cfg_scale",
      "type": "float",
      "node_id": "3",
      "input_name": "cfg",
      "display_name": "CFG Scale",
      "description": "Classifier-free guidance scale",
      "default": 1.0,
      "constraints": {
        "min": 1.0,
        "max": 10.0,
        "step": 0.5
      }
    },
    {
      "name": "seed",
      "type": "seed",
      "node_id": "3",
      "input_name": "seed",
      "display_name": "Seed",
      "description": "Random seed (-1 for random)",
      "default": 402615642314590
    },
    {
      "name": "denoise",
      "type": "float",
      "node_id": "3",
      "input_name": "denoise",
      "display_name": "Denoise Strength",
      "description": "Denoising strength (img2img)",
      "default": 1.0,
      "constraints": {
        "min": 0.1,
        "max": 1.0,
        "step": 0.05
      }
    }
  ],
  "loras": [
    {
      "name": "lora_1",
      "display_name": "flux1-depth-dev-lora",
      "node_id": "37",
      "strength_inputs": {
        "model": "strength_model",
        "clip": "strength_clip",
        "lora_name": ""
      },
      "compatible_patterns": [],
      "default_enabled": true,
      "default_strength": 1,
      "required": true
    }
  ],
  "inputs": [
    {
      "name": "reference_image_1",
      "display_name": "Reference Image 1",
      "node_id": "17",
      "input_name": "image",
      "type": "image",
      "required": false,
      "description": "Reference image for node 17"
    }
  ],
  "workflow": {
    "3": {
      "inputs": {
        "seed": 402615642314590,
        "steps": 20,
        "cfg": 1,
        "sampler_name": "euler",
        "scheduler": "normal",
        "denoise": 1,
        "model": [
          "37",
          0
        ],
        "positive": [
          "35",
          0
        ],
        "negative": [
          "35",
          1
        ],
        "latent_image": [
          "35",
          2
        ]
      },
      "class_type": "KSampler",
      "_meta": {
        "title": "KSampler"
      }
    },
    "7": {
      "inputs": {
        "text": "",
        "clip": [
          "34",
          0
        ]
      },
      "class_type": "CLIPTextEncode",
      "_meta": {
        "title": "CLIP Text Encode (Negative Prompt)"
      }
    },
    "8": {
      "inputs": {
        "samples": [
          "3",
          0
        ],
        "vae": [
          "32",
          0
        ]
      },
      "class_type": "VAEDecode",
      "_meta": {
        "title": "VAE Decode"
      }
    },
    "9": {
      "inputs": {
        "filename_prefix": "ComfyUI",
        "images": [
          "8",
          0
        ]
      },
      "class_type": "SaveImage",
      "_meta": {
        "title": "Save Image"
      }
    },
    "17": {
      "inputs": {
        "image": "Picture1.png"
      },
      "class_type": "LoadImage",
      "_meta": {
        "title": "Load Image"
      }
    },
    "23": {
      "inputs": {
        "text": "\u201cSlow-motion reflection shot, camera positioned low on the road, capturing the reflection of the pink helicopter and Ferrari on the wet asphalt as they launch, Virginia inside the helicopter, Christina and Zoe hanging from the side, Dr. Iatrou and Katsarlis in the pink Ferrari, Novartis logo visible on the helicopter, Formula 1-style street with 4 traffic lights, top row lights show \u201cActual \u201925\u201d, bottom row lights show percentages (e.g., 30%), cinematic shot, photorealistic, ultra-detailed 8K (cropped for 1080p), shot on RED Komodo, 24fps, slow-motion, reflective lighting, mysterious and suspenseful atmosphere.\u201d",
        "clip": [
          "34",
          0
        ]
      },
      "class_type": "CLIPTextEncode",
      "_meta": {
        "title": "CLIP Text Encode (Positive Prompt)"
      }
    },
    "26": {
      "inputs": {
        "guidance": 10,
        "conditioning": [
          "23",
          0
        ]
      },
      "class_type": "FluxGuidance",
      "_meta": {
        "title": "FluxGuidance"
      }
    },
    "31": {
      "inputs": {
        "unet_name": "Flux\\flux1-dev.safetensors",
        "weight_dtype": "default"
      },
      "class_type": "UNETLoader",
      "_meta": {
        "title": "Load Diffusion Model"
      }
    },
    "32": {
      "inputs": {
        "vae_name": "ae.safetensors"
      },
      "class_type": "VAELoader",
      "_meta": {
        "title": "Load VAE"
      }
    },
    "34": {
      "inputs": {
        "clip_name1": "clip_l.safetensors",
        "clip_name2": "t5xxl_fp16.safetensors",
        "type": "flux",
        "device": "default"
      },
      "class_type": "DualCLIPLoader",
      "_meta": {
        "title": "DualCLIPLoader"
      }
    },
    "35": {
      "inputs": {
        "positive": [
          "26",
          0
        ],
        "negative": [
          "7",
          0
        ],
        "vae": [
          "32",
          0
        ],
        "pixels": [
          "41:99",
          0
        ]
      },
      "class_type": "InstructPixToPixConditioning",
      "_meta": {
        "title": "InstructPixToPixConditioning"
      }
    },
    "37": {
      "inputs": {
        "lora_name": "Flux\\flux1-depth-dev-lora.safetensors",
        "strength_model": 1,
        "model": [
          "46",
          0
        ]
      },
      "class_type": "LoraLoaderModelOnly",
      "_meta": {
        "title": "LoraLoaderModelOnly"
      }
    },
    "43": {
      "inputs": {
        "images": [
          "41:99",
          0
        ]
      },
      "class_type": "PreviewImage",
      "_meta": {
        "title": "Preview Image"
      }
    },
    "46": {
      "inputs": {
        "sage_attention": "sageattn_qk_int8_pv_fp8_cuda++",
        "allow_compile": true,
        "model": [
          "31",
          0
        ]
      },
      "class_type": "PathchSageAttentionKJ",
      "_meta": {
        "title": "Patch Sage Attention KJ"
      }
    },
    "41:92": {
      "inputs": {
        "noise": [
          "41:93",
          0
        ],
        "guider": [
          "41:94",
          0
        ],
        "sampler": [
          "41:100",
          0
        ],
        "sigmas": [
          "41:101",
          0
        ],
        "latent_image": [
          "41:97",
          0
        ]
      },
      "class_type": "SamplerCustomAdvanced",
      "_meta": {
        "title": "SamplerCustomAdvanced"
      }
    },
    "41:94": {
      "inputs": {
        "model": [
          "41:87",
          0
        ],
        "conditioning": [
          "41:96",
          0
        ]
      },
      "class_type": "BasicGuider",
      "_meta": {
        "title": "BasicGuider"
      }
    },
    "41:95": {
      "inputs": {
        "scheduler": "normal",
        "steps": 1,
        "denoise": 1,
        "model": [
          "41:87",
          0
        ]
      },
      "class_type": "BasicScheduler",
      "_meta": {
        "title": "BasicScheduler"
      }
    },
    "41:96": {
      "inputs": {},
      "class_type": "LotusConditioning",
      "_meta": {
        "title": "LotusConditioning"
      }
    },
    "41:97": {
      "inputs": {
        "pixels": [
          "17",
          0
        ],
        "vae": [
          "41:89",
          0
        ]
      },
      "class_type": "VAEEncode",
      "_meta": {
        "title": "VAE Encode"
      }
    },
    "41:93": {
      "inputs": {},
      "class_type": "DisableNoise",
      "_meta": {
        "title": "DisableNoise"
      }
    },
    "41:98": {
      "inputs": {
        "samples": [
          "41:92",
          0
        ],
        "vae": [
          "41:89",
          0
        ]
      },
      "class_type": "VAEDecode",
      "_meta": {
        "title": "VAE Decode"
      }
    },
    "41:99": {
      "inputs": {
        "image": [
          "41:98",
          0
        ]
      },
      "class_type": "ImageInvert",
      "_meta": {
        "title": "Invert Image"
      }
    },
    "41:89": {
      "inputs": {
        "vae_name": "vae-ft-mse-840000-ema-pruned.safetensors"
      },
      "class_type": "VAELoader",
      "_meta": {
        "title": "Load VAE"
      }
    },
    "41:87": {
      "inputs": {
        "unet_name": "Flux\\lotus-depth-d-v1-1.safetensors",
        "weight_dtype": "default"
      },
      "class_type": "UNETLoader",
      "_meta": {
        "title": "Load Diffusion Model"
      }
    },
    "41:101": {
      "inputs": {
        "sigma": 10000,
        "sigmas": [
          "41:95",
          0
        ]
      },
      "class_type": "SetFirstSigma",
      "_meta": {
        "title": "SetFirstSigma"
      }
    },
    "41:100": {
      "inputs": {
        "sampler_name": "euler"
      },
      "class_type": "KSamplerSelect",
      "_meta": {
        "title": "KSamplerSelect"
      }
    }
  }
}